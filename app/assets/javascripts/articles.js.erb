function getNews() {
  $.ajax({
    url: "http://api.nytimes.com/svc/news/v3/content/nyt/all?api-key=<%= ENV['nytimes_key'] %>",
    type: "GET",
    success: function(articles) {
      // rssFeed(articles);
      console.log(articles["results"]);
    },
    error: function(message){
      console.error(message);
    }
  });
}

function rssFeed(articles) {
  articles["results"].forEach(function(article) {
    $(".feed").append("<p><a href=" + article["url"] + ">" + article["title"] +
                      "</a> <span class='star'>&#9734;</span></p>")
  });

  favorite();
}

function favorite() {
  $( ".star" ).on("click", function() {
    code = $(".star").html() === "â˜†" ? "&#9733;" : "&#9734;"
    $(".star").html(code);
  });
}

$(document).ready(function() {
  getNews();
});
